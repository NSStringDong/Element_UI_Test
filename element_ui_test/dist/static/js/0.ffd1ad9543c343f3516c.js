webpackJsonp([0],{"7ZNL":function(e,t){},FGlm:function(e,t){},J2No:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ayby"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-div"},[a("ul",{staticClass:"pager"},[1!=e.currentPage?a("li",{on:{click:function(t){e.firstPage()}}},[e._v("首页")]):e._e(),e._v(" "),1!=e.currentPage?a("li",{on:{click:function(t){e.lastPage()}}},[e._v("上一页")]):e._e(),e._v(" "),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputPage,expression:"inputPage"}],attrs:{type:"text"},domProps:{value:e.inputPage},on:{input:function(t){t.target.composing||(e.inputPage=t.target.value)}}})]),e._v(" "),a("li",{on:{click:function(t){e.nextPage()}}},[e._v("下一页")]),e._v(" "),a("li",{on:{click:function(t){e.designatedPage()}}},[e._v("转到")])])])},staticRenderFns:[]};var r={name:"",data:function(){return{partnerName:"",coo_type:"",settlement_cycle:"",proration_type:"",proration:"",unit:"",xlvrenType:"2",bankName:"",bankAccount:"",email:"",comment:"",tableData:[],key:"",partnerType:null,isNew:!1,formLabelWidth:"80px",nowPage:null,partnerTypeDic:[{text:"小绿人",value:"0"},{text:"电动汽车物业",value:"1"},{text:"安装商",value:"2"},{text:"4S店",value:"3"},{text:"车企",value:"4"},{text:"自行车物业",value:"5"},{text:"自行车站主",value:"6"},{text:"代理商",value:"7"}],settlementCycleDic:[{text:"每日",value:"1"},{text:"每周",value:"2"},{text:"每月",value:"3"},{text:"每季度",value:"4"},{text:"每半月",value:"5"},{text:"每两月",value:"7"},{text:"实时结算",value:"8"}],prorationTypeDic:[{text:"按比例分成",value:"1"},{text:"按度数结算",value:"2"},{text:"按业务类型结算",value:"-1"}]}},components:{"v-page":a("VU/8")({data:function(){return{currentPage:1,totalPage:"",isShow:!1,inputPage:""}},created:function(){this.inputPage=this.currentPage},watch:{currentPage:function(e){e&&this.$emit("pageTurn",e)}},methods:{firstPage:function(){this.currentPage=1,this.inputPage=1},lastPage:function(){this.currentPage--,this.inputPage=this.currentPage},nextPage:function(){this.currentPage++,this.inputPage=this.currentPage},finalPage:function(){},designatedPage:function(){this.currentPage=this.inputPage}}},n,!1,function(e){a("FGlm")},null,null).exports},created:function(){this.getPartnerList(1)},watch:{isNew:function(e){0==e&&(this.partnerName="",this.coo_type="",this.settlement_cycle="",this.proration_type="",this.proration="",this.xlvrenType="2",this.bankName="",this.bankAccount="",this.email="",this.comment="",this.unit="")}},methods:{getPartnerList:function(e){console.log("当前页："+e);var t=this;t.nowPage=e;var a={num:20,page:e,key:t.key,partnerType:t.partnerType};Object(l.a)({url:"listPartner.json",method:"GET",data:a}).then(function(e){t.tableData=e})},goToDetail:function(e){console.log("详情页:"+e.partnerId),this.$router.push({name:"partnerDetail",query:{partnerId:e.partnerId}})},filterHandler:function(e){console.info(e);var t=null,a=null;for(var l in e)t=l,a=e[l];console.info("value:"+t),this.partnerType=a[0],null!=this.partnerType&&void 0!=this.partnerType||(this.partnerType=""),console.log("partnerType:"+this.partnerType),this.getPartnerList(this.nowPage)},createNewPartner:function(){var e={partnerName:this.partnerName,partnerType:this.coo_type,timeCycle:this.settlement_cycle,settlementType:this.proration_type,proration:this.proration,bank:this.bankName,bankAccount:this.bankAccount,xlvrenType:this.xlvrenType,email:this.email,comment:this.comment,unit:this.unit};Object(l.a)({url:"addPartner.json",method:"GET",data:e})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-content"},[a("div",{staticClass:"top-break"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("运营管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/partnerList"}}},[e._v("合作伙伴")])],1)],1),e._v(" "),a("div",{staticClass:"serach-content"},[a("div",{staticClass:"search-input"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),a("div",{staticClass:"search-btn"},[a("el-button",{staticClass:"new-btn",attrs:{type:"success"},on:{click:function(t){e.isNew=!0}}},[e._v("新建")])],1)]),e._v(" "),a("div",{staticClass:"table-content"},[a("el-table",{attrs:{data:e.tableData,size:"medium",border:""},on:{"cell-dblclick":e.goToDetail,"filter-change":e.filterHandler}},[a("el-table-column",{attrs:{align:"center",prop:"partnerId",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"partnerName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"partnerType",label:"类型","column-key":"partnerType",filters:this.partnerTypeDic,"filter-multiple":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("getPartnertype")(t.row.partnerType)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"结算方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("getProrationType")(t.row.settlementType)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-view",size:"small"},on:{click:function(a){e.goToDetail(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("v-page",{on:{pageTurn:e.getPartnerList}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新建合作伙伴",visible:e.isNew,center:"",width:"30%"},on:{"update:visible":function(t){e.isNew=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.partnerName,callback:function(t){e.partnerName=t},expression:"partnerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"伙伴类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.coo_type,callback:function(t){e.coo_type=t},expression:"coo_type"}},e._l(e.partnerTypeDic,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"结算周期","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.settlement_cycle,callback:function(t){e.settlement_cycle=t},expression:"settlement_cycle"}},e._l(e.settlementCycleDic,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分成方式","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.proration_type,callback:function(t){e.proration_type=t},expression:"proration_type"}},e._l(e.prorationTypeDic,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),1==e.proration_type?a("el-form-item",{attrs:{label:"分成比例","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.proration,callback:function(t){e.proration=t},expression:"proration"}})],1):e._e(),e._v(" "),2==e.proration_type?a("el-form-item",{attrs:{label:"元/度","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"合作主体","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.xlvrenType,callback:function(t){e.xlvrenType=t},expression:"xlvrenType"}},[a("el-option",{attrs:{label:"深圳市绿色星球互联新能源科技有限公司",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"北京绿星小绿人科技有限公司",value:"2",selected:""}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.bankName,callback:function(t){e.bankName=t},expression:"bankName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账户","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.bankAccount,callback:function(t){e.bankAccount=t},expression:"bankAccount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isNew=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.createNewPartner}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,i,!1,function(e){a("7ZNL")},null,null);t.default=o.exports}});
//# sourceMappingURL=0.ffd1ad9543c343f3516c.js.map